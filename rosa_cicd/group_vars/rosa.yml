# ROSA Cluster Variables
rosa_cluster_name: dr-rosa-cluster
aws_region: ap-northeast-2
aws_account_id: "368352028691"
ecr_registry: "{{ aws_account_id }}.dkr.ecr.{{ aws_region }}.amazonaws.com"
storage_class: "gp3-csi" # ROSA Default

# Namespaces
app_namespace: production
tekton_namespace: tekton-pipelines
argocd_namespace: argocd
external_secrets_namespace: external-secrets

# Harbor Configuration
harbor_url: "10.2.2.40:5000"
harbor_username: "admin"
harbor_password: "{{ lookup('env', 'HARBOR_PASSWORD') | default('Admin123') }}"

# Git Repository
git_repo_url: "http://10.2.2.40:3001/admin/03_K8s_Infra.git"
git_branch: main

# Applications
# sync_only: true -> ArgoCD App 생성 제외 (이미지만 동기화)
applications:
  - name: energy-api
    image: production/energy-api
    harbor_image: library/energy-api
    tag: "1" # 예시: 태그가 1인 경우
    path: apps/energy-api/helm
  
  - name: kma-api
    image: production/kma-api
    harbor_image: library/kma-api
    path: apps/kma-api/helm
  
  - name: frontcode
    image: production/web-v2-dashboard
    harbor_image: library/web-v2-dashboard
    path: apps/frontcode/helm
  
  - name: ai-rag
    image: production/ai-rag
    harbor_image: library/ai-rag
    path: apps/ai-rag/helm

  - name: auth-chat-api
    image: production/auth-chat-api
    harbor_image: library/auth-chat-api
    path: apps/frontcode/auth-chat-api/manifests

  - name: redis-cache
    image: production/redis
    public_image: "redis:7.0-alpine" # 03_K8S_Infra와 동일 버전
    path: apps/redis-cache/manifests
    # Harbor에 없으므로 public_image 사용

  - name: dr-worker
    image: production/dr-worker
    harbor_image: library/dr-worker
    sync_only: true # Ansible Role로 별도 배포됨
